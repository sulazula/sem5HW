<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Users in project</title>
    <link rel="stylesheet" href="/users-in-project.css">
</head>
<body>
<a th:href="@{/dashboard}">Back to dashboard</a>
<a th:href="@{/project-repository}">Back to projects</a>
<h1 th:text="${project.getName()}"></h1>
<table>
    <tr>
        <td>ID</td>
        <td>USERNAME</td>
        <td>EMAIL</td>
        <td>ROLE</td>
        <td>ACTION</td>
    </tr>
    <tr th:each="usr : ${users}">
        <td th:text="${usr.id}"></td>
        <td th:text="${usr.username}"></td>
        <td th:text="${usr.email}"></td>
        <td th:text="${usr.role}"></td>
        <td>
        <form th:action="@{/project-repository/user-delete/{id}/{pid}(id=${usr.id}, pid=${project.id})}" method="post">
            <button type="submit">Delete</button>
        </form>
        </td>
    </tr>
</table>
</body>
</html>